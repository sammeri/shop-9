import{a as H,f as K,i as M,s as N}from"./v-lazy-image-DQPbaTE4.js";import{c as p,o as a,d as l,q as i,B as q,z as A,e as u,y as w,l as _,w as C,t as g,n as B,f as O,A as R,p as P,v as D,T,C as z,D as $,E as Q,h as Z,G,a as h,i as I,g as J,b as U,H as W,j as k,k as X,m as Y}from"./index-BCUPbIi6.js";import{s as F,R as ee}from"./index-M7JnTq_D.js";var L={name:"MinusIcon",extends:F};function te(e,t,n,r,o,s){return a(),p("svg",i({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[l("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1)]),16)}L.render=te;var V={name:"PlusIcon",extends:F};function ne(e,t,n,r,o,s){return a(),p("svg",i({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[l("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"},null,-1)]),16)}V.render=ne;var oe=`
    .p-fieldset {
        background: dt('fieldset.background');
        border: 1px solid dt('fieldset.border.color');
        border-radius: dt('fieldset.border.radius');
        color: dt('fieldset.color');
        padding: dt('fieldset.padding');
        margin: 0;
    }

    .p-fieldset-legend {
        background: dt('fieldset.legend.background');
        border-radius: dt('fieldset.legend.border.radius');
        border-width: dt('fieldset.legend.border.width');
        border-style: solid;
        border-color: dt('fieldset.legend.border.color');
        padding: dt('fieldset.legend.padding');
        transition:
            background dt('fieldset.transition.duration'),
            color dt('fieldset.transition.duration'),
            outline-color dt('fieldset.transition.duration'),
            box-shadow dt('fieldset.transition.duration');
    }

    .p-fieldset-toggleable > .p-fieldset-legend {
        padding: 0;
    }

    .p-fieldset-toggle-button {
        cursor: pointer;
        user-select: none;
        overflow: hidden;
        position: relative;
        text-decoration: none;
        display: flex;
        gap: dt('fieldset.legend.gap');
        align-items: center;
        justify-content: center;
        padding: dt('fieldset.legend.padding');
        background: transparent;
        border: 0 none;
        border-radius: dt('fieldset.legend.border.radius');
        transition:
            background dt('fieldset.transition.duration'),
            color dt('fieldset.transition.duration'),
            outline-color dt('fieldset.transition.duration'),
            box-shadow dt('fieldset.transition.duration');
        outline-color: transparent;
    }

    .p-fieldset-legend-label {
        font-weight: dt('fieldset.legend.font.weight');
    }

    .p-fieldset-toggle-button:focus-visible {
        box-shadow: dt('fieldset.legend.focus.ring.shadow');
        outline: dt('fieldset.legend.focus.ring.width') dt('fieldset.legend.focus.ring.style') dt('fieldset.legend.focus.ring.color');
        outline-offset: dt('fieldset.legend.focus.ring.offset');
    }

    .p-fieldset-toggleable > .p-fieldset-legend:hover {
        color: dt('fieldset.legend.hover.color');
        background: dt('fieldset.legend.hover.background');
    }

    .p-fieldset-toggle-icon {
        color: dt('fieldset.toggle.icon.color');
        transition: color dt('fieldset.transition.duration');
    }

    .p-fieldset-toggleable > .p-fieldset-legend:hover .p-fieldset-toggle-icon {
        color: dt('fieldset.toggle.icon.hover.color');
    }

    .p-fieldset .p-fieldset-content {
        padding: dt('fieldset.content.padding');
    }
`,le={root:function(t){var n=t.props;return["p-fieldset p-component",{"p-fieldset-toggleable":n.toggleable}]},legend:"p-fieldset-legend",legendLabel:"p-fieldset-legend-label",toggleButton:"p-fieldset-toggle-button",toggleIcon:"p-fieldset-toggle-icon",contentContainer:"p-fieldset-content-container",content:"p-fieldset-content"},re=q.extend({name:"fieldset",style:oe,classes:le}),se={name:"BaseFieldset",extends:H,props:{legend:String,toggleable:Boolean,collapsed:Boolean,toggleButtonProps:{type:null,default:null}},style:re,provide:function(){return{$pcFieldset:this,$parentInstance:this}}},E={name:"Fieldset",extends:se,inheritAttrs:!1,emits:["update:collapsed","toggle"],data:function(){return{d_collapsed:this.collapsed}},watch:{collapsed:function(t){this.d_collapsed=t}},methods:{toggle:function(t){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:t,value:this.d_collapsed})},onKeyDown:function(t){(t.code==="Enter"||t.code==="NumpadEnter"||t.code==="Space")&&(this.toggle(t),t.preventDefault())}},computed:{buttonAriaLabel:function(){return this.toggleButtonProps&&this.toggleButtonProps.ariaLabel?this.toggleButtonProps.ariaLabel:this.legend},dataP:function(){return K({toggleable:this.toggleable})}},directives:{ripple:ee},components:{PlusIcon:V,MinusIcon:L}};function v(e){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(r){ie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ie(e,t,n){return(t=ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e){var t=de(e,"string");return v(t)=="symbol"?t:t+""}function de(e,t){if(v(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(v(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ce=["data-p"],ue=["data-p"],pe=["id"],ge=["id","aria-controls","aria-expanded","aria-label"],fe=["id","aria-labelledby"];function be(e,t,n,r,o,s){var f=A("ripple");return a(),p("fieldset",i({class:e.cx("root"),"data-p":s.dataP},e.ptmi("root")),[l("legend",i({class:e.cx("legend"),"data-p":s.dataP},e.ptm("legend")),[w(e.$slots,"legend",{toggleCallback:s.toggle},function(){return[e.toggleable?_("",!0):(a(),p("span",i({key:0,id:e.$id+"_header",class:e.cx("legendLabel")},e.ptm("legendLabel")),g(e.legend),17,pe)),e.toggleable?C((a(),p("button",i({key:1,id:e.$id+"_header",type:"button","aria-controls":e.$id+"_content","aria-expanded":!o.d_collapsed,"aria-label":s.buttonAriaLabel,class:e.cx("toggleButton"),onClick:t[0]||(t[0]=function(){return s.toggle&&s.toggle.apply(s,arguments)}),onKeydown:t[1]||(t[1]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},S(S({},e.toggleButtonProps),e.ptm("toggleButton"))),[w(e.$slots,e.$slots.toggleicon?"toggleicon":"togglericon",{collapsed:o.d_collapsed,class:B(e.cx("toggleIcon"))},function(){return[(a(),O(R(o.d_collapsed?"PlusIcon":"MinusIcon"),i({class:e.cx("toggleIcon")},e.ptm("toggleIcon")),null,16,["class"]))]}),l("span",i({class:e.cx("legendLabel")},e.ptm("legendLabel")),g(e.legend),17)],16,ge)),[[f]]):_("",!0)]})],16,ue),u(T,i({name:"p-toggleable-content"},e.ptm("transition")),{default:P(function(){return[C(l("div",i({id:e.$id+"_content",class:e.cx("contentContainer"),role:"region","aria-labelledby":e.$id+"_header"},e.ptm("contentContainer")),[l("div",i({class:e.cx("content")},e.ptm("content")),[w(e.$slots,"default")],16)],16,fe),[[D,!o.d_collapsed]])]}),_:3},16)],16,ce)}E.render=be;const ve=z("product",()=>{const e=$(!0),t=$({});return{pending:e,product:t,getDataProduct:async r=>{e.value=!0,t.value=Object.keys(t.value).length&&(t.value={});try{t.value=await Q(r)}catch(o){console.log(o)}finally{e.value=!1}}}}),he={class:"flex gap-2"},me={class:"flex flex-col leading-4"},ye={class:"font-bold"},we={class:"text-sm"},_e={key:0,class:"quantity-selector flex h-full items-center border border-stone-800"},Ce=["value"],Pe={__name:"QuantitySelector",props:{product:{type:Object,required:!0}},setup(e){const t=e,n=Z(),r=G(),o=h(()=>{const d=n.productsCart.find(c=>c.id===t.product.id);return d?d.quantity:0}),s=h(()=>o.value>0),f=()=>{s.value?r.push("/cart"):n.addProduct(t.product)},m=()=>n.addQuantityByID(t.product.id),y=()=>{n.removeQuantityByID(t.product.id)};return(d,c)=>{const b=I("vue-feather");return a(),p("div",he,[l("button",{onClick:f,type:"button",class:B(["flex cursor-pointer items-center gap-1 p-2 text-white hover:bg-green-500",s.value?"bg-green-600":"bg-indigo-400"])},[u(b,{type:s.value?"check":"plus"},null,8,["type"]),l("div",me,[l("span",ye,g(s.value?"В корзине":"Добавить в корзину"),1),C(l("span",we,"Перейти",512),[[D,s.value]])])],2),o.value>0?(a(),p("div",_e,[l("button",{onClick:y,class:"flex h-full items-center justify-center p-1 hover:bg-red-600 hover:text-white"},[u(b,{type:"minus"})]),l("input",{type:"number",class:"quantity-input h-full w-12 text-center outline-0",value:o.value,min:"1",max:"10",step:"1",disabled:""},null,8,Ce),l("button",{onClick:m,class:"flex h-full items-center justify-center p-1 hover:bg-emerald-600 hover:text-white"},[u(b,{type:"plus"})])])):_("",!0)])}}},xe={class:"container mb-7 flex min-h-full flex-col items-center justify-center"},$e={key:1,class:"my-10 flex w-full justify-between gap-60"},ke={class:"flex w-1/2 flex-col gap-3 bg-gray-50 p-2"},je={class:"flex items-center justify-between"},Se={class:"text-4xl font-bold"},Be={class:"flex items-center gap-3 text-xl"},Oe={class:"mt-auto flex flex-col gap-2"},De={class:"flex gap-2 self-end"},Ie={class:"bg-green-200 p-2 text-3xl font-bold text-green-500"},Fe={class:"m-0 text-xl"},Ke={__name:"ProductView",setup(e){const t=ve(),n=J(),r=W(),o=h(()=>t.product),s=h(()=>t.pending),{getDataProduct:f}=t,{toggleFavorite:m}=n,y=d=>{d.isFavorite=!d.isFavorite,m(d)};return U(async()=>{await f(r.params.id),JSON.parse(localStorage.getItem("favorites")||"[]").find(c=>c.id===o.value.id)&&(o.value.isFavorite=!0)}),(d,c)=>{const b=N,x=I("vue-feather");return a(),p("div",xe,[s.value?(a(),O(b,{key:0,class:"w-screen",mode:"indeterminate",style:{height:"6px"}})):(a(),p("div",$e,[u(k(M),{src:o.value.image,alt:"Product Image"},null,8,["src"]),l("div",ke,[l("div",je,[l("h1",Se,g(o.value.title),1),u(x,{onClick:c[0]||(c[0]=X(Le=>y(o.value),["prevent"])),fill:o.value.isFavorite?"red":"none","stroke-width":o.value.isFavorite?"0":"2",class:"shrink-0 cursor-pointer self-baseline pt-1 pr-1",type:"heart",size:"32px"},null,8,["fill","stroke-width"])]),l("span",Be,[u(x,{type:"star",stroke:"black",fill:"yellow"}),Y(" "+g(o.value.rating?.rate)+" • "+g(o.value.rating?.count)+" reviews ",1)]),l("div",Oe,[l("div",De,[l("strong",Ie,g(o.value.price)+" $ ",1),u(Pe,{product:o.value},null,8,["product"])]),u(k(E),null,{legend:P(()=>[...c[1]||(c[1]=[l("span",{class:"font-bold"},"Описание",-1)])]),default:P(()=>[l("p",Fe,g(o.value.description),1)]),_:1})])])]))])}}};export{Ke as default};
