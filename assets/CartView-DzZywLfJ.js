import{x as B,y as z,s as m,r as _,c,o as a,a as e,b as o,u as n,t as d,z as k,n as N,h as $,g as S,F as V,f as A,d as C,w as j,e as D,j as L}from"./index-Bz8LJTWn.js";import{B as P,i as E}from"./constants-mROlI8bk.js";import{s as M}from"./index-DpjNnQcW.js";import"./index-vZFcf8r_.js";import"./index-dx4Bzad-.js";const Q={class:"z-50 flex"},T={class:"succsess-alert flex w-full cursor-default items-center bg-[#ffffff]"},U={class:"flex h-full gap-4 p-3"},I={class:"flex h-full min-h-42 w-28 shrink-0 justify-center bg-white/5 text-[#2b9875] backdrop-blur-xl"},O={class:"flex flex-col justify-between"},R={class:"line-clamp-2 text-gray-500"},G={class:"flex gap-2"},H={class:"ml-auto flex shrink-0 items-center gap-3 p-3"},J={class:"flex flex-col items-center"},K={class:"text-xl font-bold text-green-500"},W={class:"quantity-selector flex h-9 border-1 border-t-stone-800"},X=["value"],Y={__name:"CartProduct",props:{item:{type:Object,default:null},index:{type:Number,required:!0}},setup(r){const i=r,u=B(),x=z(),p=i.item.images[0].replace("/public",""),g=m(()=>(i.item.price*i.item.quantity).toFixed(2)),{toggleFavorite:b}=u,{addQuantity:y,removeQuantity:h,removeProduct:w}=x;return(l,t)=>{const s=_("vue-feather");return a(),c("div",Q,[e("div",T,[e("div",U,[e("div",I,[o(n(E),{class:"h-full w-full object-contain",src:`${n(P)}${n(p)}`,alt:"Product Image"},null,8,["src"])]),e("div",O,[e("p",R,d(r.item.title),1),e("div",G,[e("button",{class:"top-0 right-0 z-10 flex cursor-pointer items-center p-2",type:"button",onClick:t[0]||(t[0]=k(f=>n(b)(r.item),["prevent"]))},[o(s,{class:N(["[&>svg]:ease [&>svg]:transition-all [&>svg]:duration-300",[r.item.isFavorite?"[&>svg]:fill-red-500":"[&>svg]:fill-white"]]),"stroke-width":r.item.isFavorite?"0":"2",type:"heart"},null,8,["class","stroke-width"])]),e("button",{onClick:t[1]||(t[1]=k(f=>n(w)(r.item),["prevent"])),class:"flex cursor-pointer items-center p-1 text-gray-600 transition-colors ease-linear"},[o(s,{class:"relative group-hover:left-1",type:"trash-2"})])])])]),e("div",H,[e("div",J,[e("span",K,d(g.value)+" $",1),t[4]||(t[4]=e("span",{class:"text-sm text-gray-500"},"Lorem ipsum, dolor sit amet",-1))]),e("div",W,[e("input",{type:"number",class:"quantity-input text-center outline-0",name:"quantity",title:"Количество",value:r.item.quantity,min:"1",max:"10",step:"1",disabled:""},null,8,X),e("button",{onClick:t[2]||(t[2]=f=>n(h)(r.index)),type:"button",class:"group -order-1 flex cursor-pointer items-center p-1 hover:bg-neutral-900 hover:text-white active:bg-red-700"},[o(s,{type:"minus",stroke:"currentColor"}),t[5]||(t[5]=e("span",{class:"visually-hidden hidden"},"Убавить",-1))]),e("button",{onClick:t[3]||(t[3]=f=>n(y)(r.index)),type:"button",class:"group flex cursor-pointer items-center p-1 hover:bg-neutral-900 hover:text-white active:bg-emerald-600"},[o(s,{type:"plus"}),t[6]||(t[6]=e("span",{class:"visually-hidden hidden"},"Добавить",-1))])])])])])}}},Z={class:"container flex min-h-full grow flex-col items-center"},tt={class:"my-3 flex w-full justify-between text-2xl"},et={class:"relative flex gap-3 border-1 border-red-600 p-1"},st={key:0,class:"grid-rows-auto mb-4 grid w-full grid-cols-6 gap-3"},lt={class:"col-start-1 col-end-5 flex flex-col gap-3"},ot={class:"col-start-5 col-end-7 row-span-full min-h-100"},rt={class:"sticky top-28 z-10 flex min-h-60 w-full flex-col gap-6 bg-white p-3"},nt={class:"flex w-full items-center justify-between"},it={class:"text-lg"},at={class:"flex w-full justify-between text-lg"},ut={key:1,class:"mt-6 flex w-full grow flex-col items-center justify-center gap-5"},ct={class:"inline-flex items-center gap-2 p-2"},vt={__name:"CartView",setup(r){const i=z(),u=m(()=>i.productsCart),x=m(()=>i.pending),p=m(()=>i.counter),g=["товар","товара","товаров"],b=m(()=>{let l=0;return u.value.map(t=>{l=l+t.quantity*t.price}),l.toFixed(1)}),{addAllCart:y,removeAllCart:h}=i,w=(l,t)=>{l=Math.abs(l)%100;const s=l%10;return l>10&&l<20?t[2]:s>1&&s<5?t[1]:s==1?t[0]:t[2]};return(l,t)=>{const s=_("vue-feather"),f=_("router-link"),F=D("auto-animate");return a(),c("div",Z,[e("div",tt,[t[5]||(t[5]=e("h1",{class:"font-bold sm:text-3xl md:text-4xl"},"Корзина",-1)),e("div",et,[t[4]||(t[4]=e("span",{class:"absolute -top-3 bg-gray-100 text-sm font-bold text-red-600"},"debug",-1)),e("button",{type:"button",class:"flex cursor-pointer items-center gap-1 text-amber-400 hover:text-amber-300",onClick:t[0]||(t[0]=v=>n(y)())},[o(s,{class:"relative",stroke:"currentColor",type:"arrow-up-circle",size:"16px"}),t[2]||(t[2]=e("span",{class:"text-sm"},"Добавить (50)",-1))]),e("button",{type:"button",class:"flex cursor-pointer items-center gap-1 text-red-400 hover:text-red-300",onClick:t[1]||(t[1]=v=>n(h)())},[o(s,{class:"relative",stroke:"currentColor",type:"x-circle",size:"16px"}),t[3]||(t[3]=e("span",{class:"text-sm"},"Удалить всё",-1))])])]),!x.value&&u.value.length?(a(),c("div",st,[S((a(),c("div",lt,[(a(!0),c(V,null,A(u.value,(v,q)=>(a(),L(Y,{key:v.id,item:v,index:q},null,8,["item","index"]))),128))])),[[F]]),e("div",ot,[e("div",rt,[t[7]||(t[7]=e("button",{type:"button",class:"group relative inline-flex w-full cursor-pointer justify-center overflow-hidden bg-green-500 px-8 py-4 text-center text-base font-bold text-white uppercase outline-offset-4 transition-all duration-300 ease-in-out hover:bg-green-400 focus:outline-0 focus:outline-white active:outline-0"},[e("span",{class:"relative z-20"},"Оформить заказ"),e("span",{class:"absolute top-0 left-[-75%] z-10 h-full w-[20%] rotate-12 border-b-green-600 bg-green-300 blur-lg transition-all duration-800 ease-in-out group-hover:left-[125%]"})],-1)),e("div",nt,[t[6]||(t[6]=e("h3",{class:"text-2xl font-bold"},"Ваша корзина",-1)),e("span",it,d(p.value)+" • "+d(w(p.value,g)),1)]),e("div",at,[e("span",null,"Товары ("+d(p.value)+")",1),e("span",null,d(b.value)+" $",1)])])])])):$("",!0),!x.value&&!u.value.length?(a(),c("div",ut,[o(s,{stroke:"black",type:"shopping-cart",size:"8rem"}),t[9]||(t[9]=e("span",{class:"flex flex-col items-center text-2xl"},[C(" Корзина пуста "),e("p",{class:"text-lg text-gray-500"},"Перейдите в каталог для поиска товаров")],-1)),o(n(M),{severity:"contrast",style:{padding:"0"},variant:"outlined",class:"group relative"},{default:j(()=>[o(f,{to:"/"},{default:j(()=>[e("div",ct,[o(s,{class:"relative group-hover:left-1",stroke:"black",type:"arrow-right"}),t[8]||(t[8]=C(" В каталог ",-1))])]),_:1})]),_:1})])):$("",!0)])}}};export{vt as default};
