import{i as x,s as y}from"./v-lazy-image-Ec0guMIY.js";import{d as w,r as d,u as k,a as p,b as S,Y as b,c as F,h as V,m as B,e as t,f as l,k as N,t as o,p as P,j,l as D,o as f}from"./index-Xrdqae12.js";import{a as C}from"./products-CeCi0JnL.js";const I=w("product",()=>{const r=d(!0),s=d({});return{pending:r,product:s,getData:async c=>{r.value=!0;try{s.value=await C(c)}catch(e){console.log(e)}finally{r.value=!1}}}}),M={class:"container mb-7 flex min-h-full flex-col items-center justify-center"},$={class:"my-10 flex w-full justify-between gap-3"},E={class:"flex w-1/2 flex-col gap-3"},J={class:"text-4xl font-bold"},O={class:"flex items-center gap-3 text-xl"},R={class:"flex justify-between"},A={__name:"ProductView",setup(r){const s=I(),u=k(),c=b(),e=p(()=>s.product),v=p(()=>s.pending),{getData:m}=s,{toggleFavorite:g}=u,_=a=>{a.isFavorite&&(a.isFavorite=!1),g(a)};return S(async()=>{await m(c.params.id),localStorage.getItem("favorites")&&JSON.parse(localStorage.getItem("favorites")).find(n=>n.id===e.value.id)&&(e.value.isFavorite=!0)}),(a,n)=>{const h=y,i=j("vue-feather");return f(),F("div",M,[v.value?(f(),V(h,{key:0,class:"w-screen",mode:"indeterminate",style:{height:"6px"}})):B("",!0),t("div",$,[l(N(x),{class:"",src:e.value.image,alt:"Product Image"},null,8,["src"]),t("div",E,[t("h1",J,o(e.value.title),1),t("span",O,[l(i,{type:"star",stroke:"black",fill:"yellow"}),P(" "+o(e.value.rating?.rate)+" â€¢ "+o(e.value.rating?.count)+" reviews ",1)]),t("h3",null,o(e.value.description),1),t("div",R,[t("span",null,o(e.value.price)+" $",1),t("div",null,[l(i,{onClick:n[0]||(n[0]=D(T=>_(e.value),["prevent"])),fill:e.value.isFavorite?"red":"none",class:"cursor-pointer",type:"heart"},null,8,["fill"]),l(i,{class:"cursor-pointer",type:"shopping-cart"})])])])])])}}};export{A as default};
