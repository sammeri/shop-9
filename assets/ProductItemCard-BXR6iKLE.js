import{s as $}from"./index-CjrWYxnA.js";import{x as z,y as B,i as E,s as N,r as g,j as h,o as f,w as d,a as i,c as T,h as p,z as x,u as n,b as r,n as u,A as V,t as b}from"./index-Bz8LJTWn.js";import{B as F,R as M,i as q}from"./constants-mROlI8bk.js";const P={class:"relative flex h-full flex-col justify-center border border-gray-200 duration-100 ease-in group-hover:border-white group-hover:bg-white"},R={key:0,class:"h-auto min-h-80 grow overflow-hidden"},U=["title"],A={class:"footer mt-auto flex justify-between border border-gray-200 p-1 duration-100 ease-in group-hover:border-white group-hover:bg-white"},L={class:"text-xl font-bold text-green-500"},D={class:"flex items-center gap-2 text-gray-500 hover:text-black"},K={__name:"ProductItemCard",props:{item:{type:Object,default:null}},setup(e){let a=null;const c=e,w=z(),y=B(),s=E(0),m=N(()=>!c.item||!c.item.images?[]:c.item.images.map((v,t)=>{const o=v.replace("/public","");return{image:o?`${F}${o}`:"",alt:`Product Image ${t+1}`,log:"img"}})),{toggleFavorite:k}=w,{addProduct:I}=y;function C(){a&&(clearTimeout(a),a=null)}function O(){a=setTimeout(()=>{s.value=0,a=null},100)}return(v,t)=>{const o=g("vue-feather"),j=$,S=g("router-link");return f(),h(S,{to:`/product/${e.item.id}`,class:"group relative flex flex-col overflow-hidden bg-white duration-100 ease-in"},{default:d(()=>[i("div",P,[i("button",{onClick:t[0]||(t[0]=x(l=>n(k)(e.item),["prevent"])),class:"absolute top-0 right-0 z-30 flex cursor-pointer p-2 pt-1 pr-1"},[r(o,{class:u(["[&>svg]:ease cursor-pointer [&>svg]:transition-all [&>svg]:duration-300",[e.item.isFavorite?"[&>svg]:fill-red-500":"[&>svg]:fill-white"]]),"stroke-width":e.item.isFavorite?"0":"2",type:"heart"},null,8,["class","stroke-width"])]),m.value.length>0?(f(),T("div",R,[V([s.value],()=>r(j,{activeIndex:s.value,"onUpdate:activeIndex":t[1]||(t[1]=l=>s.value=l),unstyled:"",value:m.value,responsiveOptions:n(M),numVisible:5,showThumbnails:!1,showIndicators:!0,changeItemOnIndicatorHover:!0,showIndicatorsOnItem:!0,indicatorsPosition:"top",pt:{root:"relative flex w-full",content:"w-full",items:"flex w-full  overflow-hidden items-center",itemscontainer:"w-full",item:"flex w-full h-90 max-h-90 justify-center items-center",indicatorlist:"flex absolute h-full w-full top-0",indicator:"relative z-20 flex-auto",thumbnail:"absolute"}},{item:d(l=>[l.item?.image?(f(),h(n(q),{key:0,class:u([l.item.image===m.value[0].image?"first-item":"","relative z-20 h-full min-h-full w-full max-w-full object-contain"]),src:l.item.image,alt:l.item.alt},null,8,["class","src","alt"])):p("",!0)]),indicator:d(()=>[i("div",{class:"absolute top-0 flex h-full w-full",onMouseenter:C,onMouseleave:O},null,32)]),_:1},8,["activeIndex","value","responsiveOptions"]),t,2)])):p("",!0),t[4]||(t[4]=i("div",{class:"absolute bottom-11 left-0 flex w-full flex-col justify-center"},[i("button",{type:"button",class:"absolute bottom-0 z-30 w-full cursor-pointer bg-gray-400/80 p-2 text-white opacity-0 duration-200 group-hover:opacity-100 hover:bg-gray-400/90"}," Быстрый просмотр ")],-1)),i("span",{title:e.item.title,class:"line-clamp-1 p-1 text-xl leading-6 text-clip"},b(e.item.title),9,U)]),i("div",A,[i("span",L,b(e.item.price)+" $",1),i("div",D,[i("button",{onClick:t[3]||(t[3]=x(l=>n(I)(e.item),["prevent"])),class:"flex cursor-pointer"},[r(o,{class:u(e.item.quantity?"text-green-400":""),type:"shopping-cart",fill:"currentColor"},null,8,["class"]),r(o,{class:u(e.item.quantity?"text-green-400":""),type:e.item.quantity?"check":"plus",fill:"none"},null,8,["class","type"])])])])]),_:1},8,["to"])}}};export{K as _};
