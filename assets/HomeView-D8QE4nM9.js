import{s as _}from"./v-lazy-image-DQPbaTE4.js";import{u as h,a as d,b as v,c as m,w as u,d as i,v as f,e as x,F as y,r as w,o as n,f as S}from"./index-BCUPbIi6.js";import{_ as B}from"./ProductItemCard-B2z5gETa.js";const k={class:"container flex min-h-full flex-col items-center"},N={style:{height:"6px"}},b={class:"mb-4 grid grid-cols-2 gap-2 sm:grid-cols-3 lg:grid-cols-4 2xl:grid-cols-5"},D={__name:"HomeView",setup(E){const a=h(),c=d(()=>a.products),l=d(()=>a.pending),{getData:g}=a;return v(async()=>{try{await g();const s=localStorage.getItem("favorites"),o=localStorage.getItem("cart");if(s||o){if(s)try{const t=JSON.parse(s);c.value.forEach(e=>{e.isFavorite=!!t.find(r=>r.id===e.id)})}catch(t){console.error("Ошибка парсинга избранных товаров(favorites):",t)}try{const t=JSON.parse(o);c.value.forEach(e=>{const r=t.find(p=>p.id===e.id);r&&(e.quantity=r.quantity)})}catch(t){console.error("Ошибка парсинга товаров корзины(cart):",t)}}}catch(s){console.error("Ошибка загрузки данных:",s)}}),(s,o)=>{const t=_;return n(),m("div",k,[u(i("div",N,null,512),[[f,!l.value]]),u(x(t,{class:"w-screen",mode:"indeterminate",style:{height:"6px"}},null,512),[[f,l.value]]),o[0]||(o[0]=i("h1",{class:"my-3 mr-auto text-2xl font-bold sm:text-3xl md:text-4xl"},"Каталог",-1)),i("div",b,[(n(!0),m(y,null,w(c.value,e=>(n(),S(B,{key:e.id,item:e},null,8,["item"]))),128))])])}}};export{D as default};
