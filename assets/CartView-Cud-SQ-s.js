import{i as z,s as B}from"./v-lazy-image-CT65unA7.js";import{u as N,i as q,a as x,j as y,c as g,o as f,e as t,f as o,k as p,t as m,l as w,n as S,w as _,m as k,v as $,F as V,g as P,p as C,q as j,h as D}from"./index-A17E2ydo.js";import{s as L}from"./index-f6QwvsHx.js";const M={class:"z-50 flex"},Q={class:"succsess-alert flex h-32 w-full cursor-default items-center bg-[#ffffff]"},E={class:"flex h-full gap-4 p-3"},I={class:"flex h-full w-28 justify-center bg-white/5 text-[#2b9875] backdrop-blur-xl"},O={class:"flex flex-col justify-between"},T={class:"text-gray-500"},A={class:"flex gap-2"},G={class:"ml-auto flex items-center gap-3 p-3"},H={class:"flex flex-col items-center"},J={class:"text-xl font-bold text-green-500"},K={class:"quantity-selector flex h-9 border-1 border-t-stone-800"},R=["value"],U={__name:"CartProduct",props:{item:{type:Object,default:null},index:{type:Number,required:!0}},setup(l){const i=l,a=N(),u=q(),v=x(()=>(i.item.price*i.item.quantity).toFixed(1)),{toggleFavorite:h}=a,{addQuantity:b,removeQuantity:n,removeProduct:e}=u;return(r,s)=>{const c=y("vue-feather");return f(),g("div",M,[t("div",Q,[t("div",E,[t("div",I,[o(p(z),{class:"w-auto object-contain",src:l.item.image,alt:"Product Image"},null,8,["src"])]),t("div",O,[t("p",T,m(l.item.title),1),t("div",A,[t("button",{class:"top-0 right-0 z-10 flex cursor-pointer items-center p-2",type:"button",onClick:s[0]||(s[0]=w(d=>p(h)(l.item),["prevent"]))},[o(c,{class:S(["[&>svg]:ease [&>svg]:transition-all [&>svg]:duration-300",[l.item.isFavorite?"[&>svg]:fill-red-500":"[&>svg]:fill-white"]]),"stroke-width":l.item.isFavorite?"0":"2",type:"heart"},null,8,["class","stroke-width"])]),t("button",{onClick:s[1]||(s[1]=w(d=>p(e)(l.item),["prevent"])),class:"flex cursor-pointer items-center p-1 text-gray-600 transition-colors ease-linear"},[o(c,{class:"relative group-hover:left-1",type:"trash-2"})])])])]),t("div",G,[t("div",H,[t("span",J,m(v.value)+" $",1),s[4]||(s[4]=t("span",{class:"text-sm text-gray-500"},"Lorem ipsum, dolor sit amet",-1))]),t("div",K,[t("input",{type:"number",class:"quantity-input text-center outline-0",name:"quantity",title:"Количество",value:l.item.quantity,min:"1",max:"10",step:"1",disabled:""},null,8,R),t("button",{onClick:s[2]||(s[2]=d=>p(n)(l.index)),type:"button",class:"group -order-1 flex cursor-pointer items-center p-1 hover:bg-neutral-900 hover:text-white active:bg-red-700"},[o(c,{type:"minus",stroke:"currentColor"}),s[5]||(s[5]=t("span",{class:"visually-hidden hidden"},"Убавить",-1))]),t("button",{onClick:s[3]||(s[3]=d=>p(b)(l.index)),type:"button",class:"group flex cursor-pointer items-center p-1 hover:bg-neutral-900 hover:text-white active:bg-emerald-600"},[o(c,{type:"plus"}),s[6]||(s[6]=t("span",{class:"visually-hidden hidden"},"Добавить",-1))])])])])])}}},W={class:"container flex min-h-full flex-col items-center"},X={style:{height:"6px"}},Y={key:0,class:"mb-4 grid w-full grid-cols-6 gap-3"},Z={class:"col-start-1 col-end-5 grid gap-3"},tt={class:"col-start-5 col-end-7 flex flex-col items-start gap-6 bg-white p-3"},et={class:"flex w-full items-center justify-between"},st={class:"text-lg"},nt={class:"flex w-full justify-between text-lg"},lt={key:1,class:"mt-6 flex w-full grow flex-col items-center justify-center gap-5"},at={__name:"CartView",setup(l){const i=q(),a=x(()=>i.productsCart),u=x(()=>i.pending),v=x(()=>i.counter),h=x(()=>{let n=0;return a.value.map(e=>{n=n+e.quantity*e.price}),n.toFixed(1)});function b(n,e){n=Math.abs(n)%100;const r=n%10;return n>10&&n<20?e[2]:r>1&&r<5?e[1]:r==1?e[0]:e[2]}return(n,e)=>{const r=B,s=y("vue-feather"),c=y("router-link");return f(),g("div",W,[_(t("div",X,null,512),[[$,!u.value]]),_(o(r,{class:"w-screen",mode:"indeterminate",style:{height:"6px"}},null,512),[[$,u.value]]),e[4]||(e[4]=t("h1",{class:"my-3 mr-auto text-2xl font-bold sm:text-3xl md:text-4xl"},"Корзина",-1)),!u.value&&a.value.length?(f(),g("div",Y,[t("div",Z,[(f(!0),g(V,null,P(a.value,(d,F)=>(f(),D(U,{key:d.id,item:d,index:F},null,8,["item","index"]))),128))]),t("div",tt,[e[1]||(e[1]=t("button",{type:"button",class:"font-barlow group relative inline-flex w-full cursor-pointer justify-center overflow-hidden bg-green-500 px-8 py-4 text-center text-base font-bold text-white uppercase outline-offset-4 transition-all duration-300 ease-in-out hover:bg-green-400 focus:outline-0 focus:outline-white active:outline-0"},[t("span",{class:"relative z-20"},"Оформить заказ"),t("span",{class:"absolute top-0 left-[-75%] z-10 h-full w-[20%] rotate-12 border-b-green-600 bg-green-300 blur-lg transition-all duration-800 ease-in-out group-hover:left-[125%]"})],-1)),t("div",et,[e[0]||(e[0]=t("h3",{class:"text-2xl font-bold"},"Ваша корзина",-1)),t("span",st,m(v.value)+" • "+m(b(v.value,["товар","товара","товаров"])),1)]),t("div",nt,[t("span",null,"Товары ("+m(v.value)+")",1),t("span",null,m(h.value)+" $",1)])])])):k("",!0),!u.value&&!a.value.length?(f(),g("div",lt,[o(s,{stroke:"black",type:"shopping-cart",size:"8rem"}),e[3]||(e[3]=t("span",{class:"flex flex-col items-center text-2xl"},[C(" Корзина пуста "),t("p",{class:"text-lg text-gray-500"},"Перейдите в каталог для поиска товаров")],-1)),o(p(L),{severity:"contrast",variant:"outlined",class:"group relative"},{default:j(()=>[o(c,{class:"flex items-center gap-2",to:"/"},{default:j(()=>[o(s,{class:"relative group-hover:left-1",stroke:"black",type:"arrow-right"}),e[2]||(e[2]=C(" В каталог ",-1))]),_:1})]),_:1})])):k("",!0)])}}};export{at as default};
