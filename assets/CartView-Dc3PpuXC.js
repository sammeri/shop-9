import{i as N,s as V}from"./v-lazy-image-CtUXuA8b.js";import{k as A,l as B,g as x,m as k,c as v,o as d,b as t,i as o,u as r,t as p,p as $,n as P,w as C,e as j,v as z,F as L,a as D,q,x as F,j as E}from"./index-CLWnTIfX.js";import{s as M}from"./index-Ba5rrCY5.js";import"./index-CjkaUewl.js";import"./index-WAYE1u6o.js";const Q={class:"z-50 flex"},T={class:"succsess-alert flex w-full cursor-default items-center bg-[#ffffff]"},U={class:"flex h-full gap-4 p-3"},I={class:"flex h-full min-h-42 w-28 shrink-0 justify-center bg-white/5 text-[#2b9875] backdrop-blur-xl"},O={class:"flex flex-col justify-between"},R={class:"line-clamp-2 text-gray-500"},G={class:"flex gap-2"},H={class:"ml-auto flex shrink-0 items-center gap-3 p-3"},J={class:"flex flex-col items-center"},K={class:"text-xl font-bold text-green-500"},W={class:"quantity-selector flex h-9 border-1 border-t-stone-800"},X=["value"],Y={__name:"CartProduct",props:{item:{type:Object,default:null},index:{type:Number,required:!0}},setup(n){const u="/shop-9/".replace(/\/+$/,""),a=n,c=A(),f=B(),b=a.item.images[0].replace("/public",""),h=x(()=>(a.item.price*a.item.quantity).toFixed(2)),{toggleFavorite:y}=c,{addQuantity:w,removeQuantity:_,removeProduct:l}=f;return(e,s)=>{const i=k("vue-feather");return d(),v("div",Q,[t("div",T,[t("div",U,[t("div",I,[o(r(N),{class:"h-full w-full object-contain",src:`${r(u)}${r(b)}`,alt:"Product Image"},null,8,["src"])]),t("div",O,[t("p",R,p(n.item.title),1),t("div",G,[t("button",{class:"top-0 right-0 z-10 flex cursor-pointer items-center p-2",type:"button",onClick:s[0]||(s[0]=$(m=>r(y)(n.item),["prevent"]))},[o(i,{class:P(["[&>svg]:ease [&>svg]:transition-all [&>svg]:duration-300",[n.item.isFavorite?"[&>svg]:fill-red-500":"[&>svg]:fill-white"]]),"stroke-width":n.item.isFavorite?"0":"2",type:"heart"},null,8,["class","stroke-width"])]),t("button",{onClick:s[1]||(s[1]=$(m=>r(l)(n.item),["prevent"])),class:"flex cursor-pointer items-center p-1 text-gray-600 transition-colors ease-linear"},[o(i,{class:"relative group-hover:left-1",type:"trash-2"})])])])]),t("div",H,[t("div",J,[t("span",K,p(h.value)+" $",1),s[4]||(s[4]=t("span",{class:"text-sm text-gray-500"},"Lorem ipsum, dolor sit amet",-1))]),t("div",W,[t("input",{type:"number",class:"quantity-input text-center outline-0",name:"quantity",title:"Количество",value:n.item.quantity,min:"1",max:"10",step:"1",disabled:""},null,8,X),t("button",{onClick:s[2]||(s[2]=m=>r(_)(n.index)),type:"button",class:"group -order-1 flex cursor-pointer items-center p-1 hover:bg-neutral-900 hover:text-white active:bg-red-700"},[o(i,{type:"minus",stroke:"currentColor"}),s[5]||(s[5]=t("span",{class:"visually-hidden hidden"},"Убавить",-1))]),t("button",{onClick:s[3]||(s[3]=m=>r(w)(n.index)),type:"button",class:"group flex cursor-pointer items-center p-1 hover:bg-neutral-900 hover:text-white active:bg-emerald-600"},[o(i,{type:"plus"}),s[6]||(s[6]=t("span",{class:"visually-hidden hidden"},"Добавить",-1))])])])])])}}},Z={class:"container flex min-h-full grow flex-col items-center"},tt={style:{height:"6px"}},et={class:"my-3 flex w-full justify-between text-2xl"},st={class:"relative flex gap-3 border-1 border-red-600 p-1"},lt={key:0,class:"grid-rows-auto mb-4 grid w-full grid-cols-6 gap-3"},ot={class:"col-start-1 col-end-5 flex flex-col gap-3"},nt={class:"col-start-5 col-end-7 row-span-full min-h-100"},rt={class:"sticky top-28 z-10 flex min-h-60 w-full flex-col gap-6 bg-white p-3"},it={class:"flex w-full items-center justify-between"},at={class:"text-lg"},ut={class:"flex w-full justify-between text-lg"},ct={key:1,class:"mt-6 flex w-full grow flex-col items-center justify-center gap-5"},dt={class:"inline-flex items-center gap-2 p-2"},gt={__name:"CartView",setup(n){const u=B(),a=x(()=>u.productsCart),c=x(()=>u.pending),f=x(()=>u.counter),b=["товар","товара","товаров"],h=x(()=>{let l=0;return a.value.map(e=>{l=l+e.quantity*e.price}),l.toFixed(1)}),{addAllCart:y,removeAllCart:w}=u,_=(l,e)=>{l=Math.abs(l)%100;const s=l%10;return l>10&&l<20?e[2]:s>1&&s<5?e[1]:s==1?e[0]:e[2]};return(l,e)=>{const s=V,i=k("vue-feather"),m=k("router-link");return d(),v("div",Z,[C(t("div",tt,null,512),[[z,!c.value]]),C(o(s,{class:"w-screen",mode:"indeterminate",style:{height:"6px"}},null,512),[[z,c.value]]),t("div",et,[e[5]||(e[5]=t("h1",{class:"font-bold sm:text-3xl md:text-4xl"},"Корзина",-1)),t("div",st,[e[4]||(e[4]=t("span",{class:"absolute -top-3 bg-gray-100 text-sm font-bold text-red-600"},"debug",-1)),t("button",{type:"button",class:"flex cursor-pointer items-center gap-1 text-amber-400 hover:text-amber-300",onClick:e[0]||(e[0]=g=>r(y)())},[o(i,{class:"relative",stroke:"currentColor",type:"arrow-up-circle",size:"16px"}),e[2]||(e[2]=t("span",{class:"text-sm"},"Добавить всё",-1))]),t("button",{type:"button",class:"flex cursor-pointer items-center gap-1 text-red-400 hover:text-red-300",onClick:e[1]||(e[1]=g=>r(w)())},[o(i,{class:"relative",stroke:"currentColor",type:"x-circle",size:"16px"}),e[3]||(e[3]=t("span",{class:"text-sm"},"Удалить всё",-1))])])]),!c.value&&a.value.length?(d(),v("div",lt,[t("div",ot,[(d(!0),v(L,null,D(a.value,(g,S)=>(d(),E(Y,{key:g.id,item:g,index:S},null,8,["item","index"]))),128))]),t("div",nt,[t("div",rt,[e[7]||(e[7]=t("button",{type:"button",class:"group relative inline-flex w-full cursor-pointer justify-center overflow-hidden bg-green-500 px-8 py-4 text-center text-base font-bold text-white uppercase outline-offset-4 transition-all duration-300 ease-in-out hover:bg-green-400 focus:outline-0 focus:outline-white active:outline-0"},[t("span",{class:"relative z-20"},"Оформить заказ"),t("span",{class:"absolute top-0 left-[-75%] z-10 h-full w-[20%] rotate-12 border-b-green-600 bg-green-300 blur-lg transition-all duration-800 ease-in-out group-hover:left-[125%]"})],-1)),t("div",it,[e[6]||(e[6]=t("h3",{class:"text-2xl font-bold"},"Ваша корзина",-1)),t("span",at,p(f.value)+" • "+p(_(f.value,b)),1)]),t("div",ut,[t("span",null,"Товары ("+p(f.value)+")",1),t("span",null,p(h.value)+" $",1)])])])])):j("",!0),!c.value&&!a.value.length?(d(),v("div",ct,[o(i,{stroke:"black",type:"shopping-cart",size:"8rem"}),e[9]||(e[9]=t("span",{class:"flex flex-col items-center text-2xl"},[q(" Корзина пуста "),t("p",{class:"text-lg text-gray-500"},"Перейдите в каталог для поиска товаров")],-1)),o(r(M),{severity:"contrast",style:{padding:"0"},variant:"outlined",class:"group relative"},{default:F(()=>[o(m,{to:"/"},{default:F(()=>[t("div",dt,[o(i,{class:"relative group-hover:left-1",stroke:"black",type:"arrow-right"}),e[8]||(e[8]=q(" В каталог ",-1))])]),_:1})]),_:1})])):j("",!0)])}}};export{gt as default};
