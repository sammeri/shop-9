import{i as S,s as V}from"./v-lazy-image-akwozec6.js";import{g as P,h as q,a as f,i as k,c as x,o as c,d as t,e as l,j as n,t as d,k as _,n as A,w as $,l as C,v as j,F as D,r as L,m as z,p as F,f as M}from"./index-BFDImWKH.js";import{s as Q}from"./index-BiZwCZAH.js";const T={class:"z-50 flex"},E={class:"succsess-alert flex h-32 w-full cursor-default items-center bg-[#ffffff]"},I={class:"flex h-full gap-4 p-3"},O={class:"flex h-full w-28 shrink-0 justify-center bg-white/5 text-[#2b9875] backdrop-blur-xl"},G={class:"flex flex-col justify-between"},H={class:"line-clamp-2 text-gray-500"},J={class:"flex gap-2"},K={class:"ml-auto flex shrink-0 items-center gap-3 p-3"},R={class:"flex flex-col items-center"},U={class:"text-xl font-bold text-green-500"},W={class:"quantity-selector flex h-9 border-1 border-t-stone-800"},X=["value"],Y={__name:"CartProduct",props:{item:{type:Object,default:null},index:{type:Number,required:!0}},setup(o){const i=o,a=P(),u=q(),p=f(()=>(i.item.price*i.item.quantity).toFixed(2)),{toggleFavorite:g}=a,{addQuantity:b,removeQuantity:h,removeProduct:y}=u;return(w,s)=>{const e=k("vue-feather");return c(),x("div",T,[t("div",E,[t("div",I,[t("div",O,[l(n(S),{class:"w-auto object-contain",src:o.item.image,alt:"Product Image"},null,8,["src"])]),t("div",G,[t("p",H,d(o.item.title),1),t("div",J,[t("button",{class:"top-0 right-0 z-10 flex cursor-pointer items-center p-2",type:"button",onClick:s[0]||(s[0]=_(r=>n(g)(o.item),["prevent"]))},[l(e,{class:A(["[&>svg]:ease [&>svg]:transition-all [&>svg]:duration-300",[o.item.isFavorite?"[&>svg]:fill-red-500":"[&>svg]:fill-white"]]),"stroke-width":o.item.isFavorite?"0":"2",type:"heart"},null,8,["class","stroke-width"])]),t("button",{onClick:s[1]||(s[1]=_(r=>n(y)(o.item),["prevent"])),class:"flex cursor-pointer items-center p-1 text-gray-600 transition-colors ease-linear"},[l(e,{class:"relative group-hover:left-1",type:"trash-2"})])])])]),t("div",K,[t("div",R,[t("span",U,d(p.value)+" $",1),s[4]||(s[4]=t("span",{class:"text-sm text-gray-500"},"Lorem ipsum, dolor sit amet",-1))]),t("div",W,[t("input",{type:"number",class:"quantity-input text-center outline-0",name:"quantity",title:"Количество",value:o.item.quantity,min:"1",max:"10",step:"1",disabled:""},null,8,X),t("button",{onClick:s[2]||(s[2]=r=>n(h)(o.index)),type:"button",class:"group -order-1 flex cursor-pointer items-center p-1 hover:bg-neutral-900 hover:text-white active:bg-red-700"},[l(e,{type:"minus",stroke:"currentColor"}),s[5]||(s[5]=t("span",{class:"visually-hidden hidden"},"Убавить",-1))]),t("button",{onClick:s[3]||(s[3]=r=>n(b)(o.index)),type:"button",class:"group flex cursor-pointer items-center p-1 hover:bg-neutral-900 hover:text-white active:bg-emerald-600"},[l(e,{type:"plus"}),s[6]||(s[6]=t("span",{class:"visually-hidden hidden"},"Добавить",-1))])])])])])}}},Z={class:"container flex min-h-full grow flex-col items-center"},tt={style:{height:"6px"}},et={class:"my-3 flex w-full justify-between text-2xl"},st={class:"flex gap-3"},lt={key:0,class:"mb-4 grid w-full auto-rows-min grid-cols-6 grid-rows-subgrid gap-3"},ot={class:"col-start-1 col-end-5 row-start-1 row-end-9 flex flex-col gap-3"},rt={class:"col-start-5 col-end-7 flex flex-col items-start gap-6 bg-white p-3"},nt={class:"flex w-full items-center justify-between"},it={class:"text-lg"},at={class:"flex w-full justify-between text-lg"},ut={key:1,class:"mt-6 flex w-full grow flex-col items-center justify-center gap-5"},ft={__name:"CartView",setup(o){const i=q(),a=f(()=>i.productsCart),u=f(()=>i.pending),p=f(()=>i.counter),g=["товар","товара","товаров"],b=f(()=>{let s=0;return a.value.map(e=>{s=s+e.quantity*e.price}),s.toFixed(1)}),{addAllCart:h,removeAllCart:y}=i,w=(s,e)=>{s=Math.abs(s)%100;const r=s%10;return s>10&&s<20?e[2]:r>1&&r<5?e[1]:r==1?e[0]:e[2]};return(s,e)=>{const r=V,m=k("vue-feather"),B=k("router-link");return c(),x("div",Z,[$(t("div",tt,null,512),[[j,!u.value]]),$(l(r,{class:"w-screen",mode:"indeterminate",style:{height:"6px"}},null,512),[[j,u.value]]),t("div",et,[e[4]||(e[4]=t("h1",{class:"font-bold sm:text-3xl md:text-4xl"},"Корзина",-1)),t("div",st,[t("button",{type:"button",class:"flex cursor-pointer items-center gap-1 text-amber-400 hover:text-amber-300",onClick:e[0]||(e[0]=v=>n(h)())},[l(m,{class:"relative",stroke:"currentColor",type:"arrow-up-circle",size:"16px"}),e[2]||(e[2]=t("span",{class:"text-sm"},"Добавить всё",-1))]),t("button",{type:"button",class:"flex cursor-pointer items-center gap-1 text-red-400 hover:text-red-300",onClick:e[1]||(e[1]=v=>n(y)())},[l(m,{class:"relative",stroke:"currentColor",type:"x-circle",size:"16px"}),e[3]||(e[3]=t("span",{class:"text-sm"},"Удалить всё",-1))])])]),!u.value&&a.value.length?(c(),x("div",lt,[t("div",ot,[(c(!0),x(D,null,L(a.value,(v,N)=>(c(),M(Y,{key:v.id,item:v,index:N},null,8,["item","index"]))),128))]),t("div",rt,[e[6]||(e[6]=t("button",{type:"button",class:"font-barlow group relative inline-flex w-full cursor-pointer justify-center overflow-hidden bg-green-500 px-8 py-4 text-center text-base font-bold text-white uppercase outline-offset-4 transition-all duration-300 ease-in-out hover:bg-green-400 focus:outline-0 focus:outline-white active:outline-0"},[t("span",{class:"relative z-20"},"Оформить заказ"),t("span",{class:"absolute top-0 left-[-75%] z-10 h-full w-[20%] rotate-12 border-b-green-600 bg-green-300 blur-lg transition-all duration-800 ease-in-out group-hover:left-[125%]"})],-1)),t("div",nt,[e[5]||(e[5]=t("h3",{class:"text-2xl font-bold"},"Ваша корзина",-1)),t("span",it,d(p.value)+" • "+d(w(p.value,g)),1)]),t("div",at,[t("span",null,"Товары ("+d(p.value)+")",1),t("span",null,d(b.value)+" $",1)])])])):C("",!0),!u.value&&!a.value.length?(c(),x("div",ut,[l(m,{stroke:"black",type:"shopping-cart",size:"8rem"}),e[8]||(e[8]=t("span",{class:"flex flex-col items-center text-2xl"},[z(" Корзина пуста "),t("p",{class:"text-lg text-gray-500"},"Перейдите в каталог для поиска товаров")],-1)),l(n(Q),{severity:"contrast",variant:"outlined",class:"group relative"},{default:F(()=>[l(B,{class:"flex items-center gap-2",to:"/"},{default:F(()=>[l(m,{class:"relative group-hover:left-1",stroke:"black",type:"arrow-right"}),e[7]||(e[7]=z(" В каталог ",-1))]),_:1})]),_:1})])):C("",!0)])}}};export{ft as default};
