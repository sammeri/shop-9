import{i as x,s as y}from"./v-lazy-image-akwozec6.js";import{X as w,Y as d,Z as k,g as S,a as p,b,$ as F,c as V,f as B,l as N,d as t,e as l,j as P,t as o,m as j,i as D,k as C,o as f}from"./index-BFDImWKH.js";const I=w("product",()=>{const r=d(!0),s=d({});return{pending:r,product:s,getData:async c=>{r.value=!0;try{s.value=await k(c)}catch(e){console.log(e)}finally{r.value=!1}}}}),$={class:"container mb-7 flex min-h-full flex-col items-center justify-center"},M={class:"my-10 flex w-full justify-between gap-3"},E={class:"flex w-1/2 flex-col gap-3"},J={class:"text-4xl font-bold"},O={class:"flex items-center gap-3 text-xl"},R={class:"flex justify-between"},Z={__name:"ProductView",setup(r){const s=I(),u=S(),c=F(),e=p(()=>s.product),v=p(()=>s.pending),{getData:g}=s,{toggleFavorite:m}=u,_=a=>{a.isFavorite&&(a.isFavorite=!1),m(a)};return b(async()=>{await g(c.params.id),localStorage.getItem("favorites")&&JSON.parse(localStorage.getItem("favorites")).find(n=>n.id===e.value.id)&&(e.value.isFavorite=!0)}),(a,n)=>{const h=y,i=D("vue-feather");return f(),V("div",$,[v.value?(f(),B(h,{key:0,class:"w-screen",mode:"indeterminate",style:{height:"6px"}})):N("",!0),t("div",M,[l(P(x),{class:"",src:e.value.image,alt:"Product Image"},null,8,["src"]),t("div",E,[t("h1",J,o(e.value.title),1),t("span",O,[l(i,{type:"star",stroke:"black",fill:"yellow"}),j(" "+o(e.value.rating?.rate)+" â€¢ "+o(e.value.rating?.count)+" reviews ",1)]),t("h3",null,o(e.value.description),1),t("div",R,[t("span",null,o(e.value.price)+" $",1),t("div",null,[l(i,{onClick:n[0]||(n[0]=C(T=>_(e.value),["prevent"])),fill:e.value.isFavorite?"red":"none",class:"cursor-pointer",type:"heart"},null,8,["fill"]),l(i,{class:"cursor-pointer",type:"shopping-cart"})])])])])])}}};export{Z as default};
